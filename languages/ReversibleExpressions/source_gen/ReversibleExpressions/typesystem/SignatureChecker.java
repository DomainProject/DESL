package ReversibleExpressions.typesystem;

/*Generated by MPS */

import jetbrains.mps.lang.typesystem.dependencies.InferenceMethod;
import jetbrains.mps.typesystem.inference.TypeCheckingContext;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.errors.messageTargets.MessageTarget;
import jetbrains.mps.errors.messageTargets.NodeMessageTarget;
import jetbrains.mps.errors.IErrorReporter;
import java.util.List;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.typesystem.inference.EquationInfo;

public class SignatureChecker {

  @InferenceMethod
  public static void check(final TypeCheckingContext typeCheckingContext, SNode ctx, Iterable<SNode> actuals, Iterable<SNode> types) {

    if (Sequence.fromIterable(actuals).count() != Sequence.fromIterable(types).count()) {
      {
        final MessageTarget errorTarget = new NodeMessageTarget();
        IErrorReporter _reporter_2309309498 = typeCheckingContext.reportTypeError(ctx, "incorrect number of arguments; expected: " + Sequence.fromIterable(types).count() + ", found: " + Sequence.fromIterable(actuals).count(), "r:a08f1c59-09f4-4839-91dc-89de02b086a5(ReversibleExpressions.typesystem)", "5697836475274281925", null, errorTarget);
      }
      return;
    }

    int i = 0;

    List<SNode> actualsAsList = Sequence.fromIterable(actuals).toList();

    for (SNode t : Sequence.fromIterable(types)) {
      SNode actual = ListSequence.fromList(actualsAsList).getElement(i);

      if (!(typeCheckingContext.isSingleTypeComputation())) {
        {
          SNode _nodeToCheck_1029348928467 = actual;
          EquationInfo _info_12389875345 = new EquationInfo(_nodeToCheck_1029348928467, null, "r:a08f1c59-09f4-4839-91dc-89de02b086a5(ReversibleExpressions.typesystem)", "5697836475276204947", 0, null);
          typeCheckingContext.createLessThanInequality((SNode) typeCheckingContext.typeOf(actual, "r:a08f1c59-09f4-4839-91dc-89de02b086a5(ReversibleExpressions.typesystem)", "5697836475276613632", true), (SNode) typeCheckingContext.typeOf(t, "r:a08f1c59-09f4-4839-91dc-89de02b086a5(ReversibleExpressions.typesystem)", "5697836475276205363", true), true, true, _info_12389875345);
        }
      }
      i++;
    }

  }
}
